<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>main</title>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel="stylesheet" href="https://unpkg.com/tachyons@4.12.0/css/tachyons.min.css"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" href="style2.css">
</head>

<body>
<div class="row">
<button hidden="hidden" type="button" id="losebutton" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myModal1">
  Open modal
</button>
<div class="modal" id="myModal1">
  <div class="modal-dialog">
    <div class="modal-content1">
      <div class="modal-header">
        <h4 class="modal-title">YOU LOST ðŸ‘Ž</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        You picked the last bundle ðŸ˜ƒ.
      </div>

    </div>
  </div>
</div>

	<div class="col-sm-6 back1" id="back1">
		<div class="comp">
		<div class="fl w-50">
			<div class="cprofile">
			<img src="images/computer.png">
			</div>
		<p class="name grow"><b>Computer</b></p>
		</div>
		<div class="fl w-50">
			<p class="lpicked"><b>Last picked Bundle: </b> <b id="valec"></b></p><br><br>
			<p>Remaining Stick: <b id="remain"></b></p>
		</div>
	</div><br><br><br><br><br><br><br><br><br>
		<div class="options" id="options1">
			<h4 align="center">Computer can pick:</h4><br>
			<div class="flex-container">
				<div class="flex-item-first grow">1 stick</div>
  			<div class="flex-item-second grow" >2 sticks</div>
  				<div class="flex-item-third grow">3 sticks</div>
  				<div class="flex-item-fourth grow" >4 sticks</div>
			</div>
		</div>
		
				
	</div>
	<div class="col-sm-6 back2" id="back2">
		<div class="user">
		<div class="fl w-50">
			<div class="cprofile">
			<img src="images/1.jpg">
			</div>
		<p class="name grow"><b>Your Name</b></p>
		</div>
		<div class="fl w-50">
			<p class="lpicked"><b>Last picked Bundle: </b><b id="vale"></b></p><br><br>
			<p>Remaining Stick: <b id="remain1"></b></p>
		</div>
	</div><br><br><br><br><br><br><br><br>
		<div class="options" id="options">
			<h4 align="center">You can pick:</h4><br>
			<div class="flex-container">
				<div class="flex-item-first grow" id="1" onClick="reply_click(this.id)">1 stick</div>
  			<div class="flex-item-second grow" id="2" onClick="reply_click(this.id)">2 sticks</div>
  				<div class="flex-item-third grow" id="3" onClick="reply_click(this.id)">3 sticks</div>
  			<div class="flex-item-fourth grow" id="4" onClick="reply_click(this.id)">4 sticks</div>
			</div>
		</div>
	</div>
	<div id="myModal" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
    <div class="modal-header">
      <span class="close">&times;</span>
      <h2>Computer is picking...</h2>
    </div>
    <div class="modal-body">
      <p id="modelm"></p>
      <p id="ypick"></p>
      <b><p id="cpick"></p></b>

    </div>
   
  </div>

</div>
</div>
<embed src="music.mp3" loop="true" autostart="false" width="2" height="0">
</body>
<script type="text/javascript">
	let m=21;
	let p=0;
	let c=0;

	document.getElementById("vale").innerHTML = p;
	document.getElementById("valec").innerHTML = c;
	document.getElementById("remain").innerHTML = m;
	document.getElementById("remain1").innerHTML = m;
	var modal = document.getElementById("myModal");
	var span = document.getElementsByClassName("close")[0];
	document.getElementById("options1").style.display = "none";

	function reply_click(clicked_id){
		p=clicked_id;
		modal.style.display = "block";
		document.getElementById("vale").innerHTML = p;
		m=m-p;
		if (m>0) {
		document.getElementById("remain").innerHTML = m;
		document.getElementById("remain1").innerHTML = m;
		
		document.getElementById("options").style.display = "none";
		document.getElementById("options1").style.display = "block";
		document.getElementById('modelm').innerHTML = "You Pick: "+p;
		document.getElementById('ypick').innerHTML = "Remaining Sticks for computer: "+m;
		document.getElementById('cpick').innerHTML = "";
		setTimeout(function() { computerpick(p) },5000);
	}else{
		document.getElementById("losebutton").click();
		const music = new Audio('youloose.wav');
		music.play();
		music.loop =false;
		music.playbackRate = 1;
		modal.style.display = "none";
	}

  	}
  	function computerpick(p){
  		c=5-p;
		document.getElementById('cpick').innerHTML = "Computer Pick: "+c;
		document.getElementById("valec").innerHTML = c;
		m=m-c;
		document.getElementById("remain").innerHTML = m;
		document.getElementById("remain1").innerHTML = m;
		setTimeout(function() { normal() },4000);

  	}
  	function normal(){
  		document.getElementById("options1").style.display = "none";
  		document.getElementById("options").style.display = "block";
  		
  	}

span.onclick = function() {
  		modal.style.display = "none";
	}

window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}
</script>
</html>